<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    form {
        margin: 10px;
        padding: 10px;
        display: inline-block;
        background-color: aquamarine;
    }

    input,select {
        margin: 5px;
        padding: 5px;
        font-size: 20px;
    }
    </style>
</head>

<div id="allVideos">
    <form action="" onsubmit="return false">
        <input type="text" class = "title" placeholder="title"><br />
        <input type="number" class = "seconds" placeholder="seconds"><br />
        <select class = "user">
            <option value = "label">choice uploader</option>
            <option value = "user1">aviyot</option>
            <option value = "labe2">yosi</option>
            <option value = "user3">david</option>
            <option value = "user3">beni</option>
        </select><br />
    </form>

</div>

<input type="button" value="Add Form" onclick="addForm()"> </br>
<input type="button" value="Watch All" onclick="showDetails()"><br />
<div id="msg"></div>

<body>
    <script>
        
    
        var allVideos = document.querySelector("#allVideos");
        var msg = document.querySelector("#msg");

        function Video(title, uploader, second) {

            //privte propeirts
            title = title;
            uploader = uploader;
            second = second;

            //global function
            this.watch = function () {

                try {


                    return `You watched all ${second} seconds of ${title}!`;

                }
                catch (err) {
                    return "Oops... An error occured";
                }

                finally {

                }
            }
        }



        function showDetails() {
            var title = document.querySelectorAll(".title");
            var user = document.querySelectorAll(".user");
            var time = document.querySelectorAll(".seconds");

            for (var i = 0 ; i < title.length ; i++) {
           
            if (title[i].value && user[i].value && time[i].value){
            var video = new Video(title[i].value, user[i].value, time[i].value);
           console.log(video.watch());
            msg.innerHTML += `${video.watch()} <br/>`;
            }
            }
        }

        function addForm() {
            allVideos.insertAdjacentHTML('beforeend',`
              <form action="" onsubmit="return false">
                <input type="text" class="title" placeholder="title"><br />
                <input type="number" class ="seconds" placeholder="seconds"><br />
                <select class="user">
                   <option value="label">choice uploader</option>
                   <option value="user1">aviyot</option>
                   <option value = "labe2">yosi</option>
                   <option value = "user3">david</option>
                   <option value = "user3">beni</option>
                </select><br/>
              </form>`)
        }

    </script>
</body>

</html>